(dp1
S'output'
p2
S"<type 'exceptions.KeyError'> 'name'"
p3
sS'layer'
p4
S'c:\\Users\\rochacbruno\\aula7_mar12\\web2py\\applications\\loja\\views\\home/index.html'
p5
sS'code'
p6
S'response.write(\'<!DOCTYPE html>\\r\\n<html lang="en">\\r\\n  <head>\\r\\n    <meta charset="utf-8">\\r\\n    <title>\', escape=False)\nresponse.write(response.title)\nresponse.write(\'</title>\\r\\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\\r\\n    <meta name="description" content="\', escape=False)\nresponse.write(response.meta.description)\nresponse.write(\'">\\r\\n    <meta name="author" content="">\\r\\n\\r\\n    <!-- Le styles -->\\r\\n    <style type="text/css">\\r\\n      body {\\r\\n        padding-top: 60px;\\r\\n        padding-bottom: 40px;\\r\\n      }\\r\\n    </style>\\r\\n\\r\\n    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->\\r\\n    <!--[if lt IE 9]>\\r\\n      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>\\r\\n    <![endif]-->\\r\\n\\r\\n    \', escape=False)\nresponse.write(\'<script type="text/javascript"><!--\\n    // These variables are used by the web2py_ajax_init function in web2py_ajax.js (which is loaded below).\\n    var w2p_ajax_confirm_message = "\', escape=False)\nresponse.write(T(\'Are you sure you want to delete this object?\'))\nresponse.write(\'";\\n    var w2p_ajax_date_format = "\', escape=False)\nresponse.write(T(\'%Y-%m-%d\'))\nresponse.write(\'";\\n    var w2p_ajax_datetime_format = "\', escape=False)\nresponse.write(T(\'%Y-%m-%d %H:%M:%S\'))\nresponse.write(\'";\\n    //--></script>\\n\', escape=False)\nresponse.files.insert(0,URL(\'static\',\'js/jquery.js\'))\nresponse.files.insert(1,URL(\'static\',\'css/calendar.css\'))\nresponse.files.insert(2,URL(\'static\',\'js/calendar.js\'))\nresponse.files.insert(3,URL(\'static\',\'js/web2py.js\'))\nresponse.files.insert(4,URL(\'static\',\'css/bootstrap.min.css\'))\nresponse.files.insert(5,URL(\'static\',\'js/bootstrap.min.js\'))\nresponse.include_meta()\nresponse.include_files()\nresponse.write(\'\\n\', escape=False)\nresponse.write(\'\\r\\n  </head>\\r\\n\\r\\n  <body>\\r\\n\\r\\n    <div class="navbar navbar-fixed-top">\\r\\n      <div class="navbar-inner">\\r\\n        <div class="container">\\r\\n          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">\\r\\n            <span class="icon-bar"></span>\\r\\n            <span class="icon-bar"></span>\\r\\n            <span class="icon-bar"></span>\\r\\n          </a>\\r\\n          <a class="brand" href="#">Loja</a>\\r\\n          <div class="nav-collapse">\\r\\n            <ul class="nav">\\r\\n              <li class="active"><a href="#">Home</a></li>\\r\\n              <li><a href="#about">About</a></li>\\r\\n              <li><a href="#contact">Contact</a></li>\\r\\n            </ul>\\r\\n          </div><!--/.nav-collapse -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class="container">\\r\\n\\r\\n     \', escape=False)\ndef vitrine(produtos, tamanho="span2" , width=120):\n    response.write(\'\\r\\n\\r\\n    <ul class="thumbnails">\\r\\n    \', escape=False)\n    for produto in produtos:\n        response.write(\'\\r\\n        <li class="\', escape=False)\n        response.write(tamanho)\n        response.write(\'">\\r\\n        <div class="thumbnail">\\r\\n            <img width=\', escape=False)\n        response.write(width)\n        response.write(\' src="\', escape=False)\n        response.write(URL(\'home\', \'download\', args=produto.miniatura))\n        response.write(\'" alt="">\\r\\n            <h5>\', escape=False)\n        response.write(produto.name)\n        response.write(\' - \', escape=False)\n        response.write(produto.categoria.nome)\n        response.write(\'</h5>\\r\\n            <h5>\', escape=False)\n        response.write("R$ %.2f" % float(produto.preco))\n        response.write(\'</h5>\\r\\n            <p>\', escape=False)\n        response.write(produto.descricao)\n        response.write(\'</p>\\r\\n            <a href="\', escape=False)\n        response.write(URL(\'produto\', \'exibir\', args=[produto.id, produto.slug()]))\n        response.write(\'" class="btn btn-primary">\', escape=False)\n        response.write(T("View details"))\n        response.write(\'</a>\\r\\n        </div>\\r\\n        </li>\\r\\n    \', escape=False)\n        pass\n    response.write(\'\\r\\n\\r\\n    </ul>\\r\\n\\r\\n\', escape=False)\n    return\nresponse.write(\'\\r\\n\', escape=False)\nresponse.write(\'\\r\\n     \', escape=False)\nif response.destaque_enabled:\n    response.write(\'\\r\\n          \', escape=False)\n    response.write(\'\\r\\n<div class="hero-unit">\\r\\n<h1>Produtos em destaque</h1>\\r\\n  \', escape=False)\n    vitrine(destaques, "span4", 200)\n    response.write(\'\\r\\n</div>\\r\\n\', escape=False)\n    response.write(\'\\r\\n    \', escape=False)\n    pass\nresponse.write(\'\\r\\n\\r\\n     \', escape=False)\nresponse.write(\'\\r\\n\\r\\n\', escape=False)\nresponse.write(\'\\r\\n\\r\\n\', escape=False)\nresponse.write(\'\\r\\n\\r\\n<h1>Produtos</h1>\\r\\n\\r\\n\', escape=False)\nvitrine(produtos)\nresponse.write(\'\\r\\n\\r\\n\', escape=False)\nresponse.write(\'\\r\\n\\r\\n      <hr>\\r\\n\\r\\n \', escape=False)\nif response.footer_enabled:\n    response.write(\'\\r\\n        \', escape=False)\n    response.write(\'\\r\\n        <footer>\\r\\n        COPYRIGHT\\r\\n        </footer>\\r\\n        \', escape=False)\n    response.write(\'\\r\\n   \', escape=False)\n    pass\nresponse.write(\'\\r\\n\\r\\n    </div> <!-- /container -->\\r\\n  </body>\\r\\n</html>\\r\\n\', escape=False)'
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "c:\\Users\\rochacbruno\\aula7_mar12\\web2py\\gluon\\restricted.py", line 205, in restricted\n    exec ccode in environment\n  File "c:\\Users\\rochacbruno\\aula7_mar12\\web2py\\applications\\loja\\views\\home/index.html", line 53, in <module>\n  File "c:\\Users\\rochacbruno\\aula7_mar12\\web2py\\applications\\loja\\views\\home/index.html", line 41, in vitrine\n  File "c:\\Users\\rochacbruno\\aula7_mar12\\web2py\\gluon\\dal.py", line 7662, in __call__\n    return self.method(self.row,*args,**kwargs)\n  File "c:\\Users\\rochacbruno\\aula7_mar12\\web2py\\applications\\loja\\models\\300_datamodels.py", line 36, in <lambda>\n    Produto.slug = Field.Lazy(lambda row: row.name)\n  File "c:\\Users\\rochacbruno\\aula7_mar12\\web2py\\gluon\\dal.py", line 5657, in __getattr__\n    return self[key]\n  File "c:\\Users\\rochacbruno\\aula7_mar12\\web2py\\gluon\\dal.py", line 5648, in __getitem__\n    return dict.__getitem__(self, key)\nKeyError: \'name\'\n'
p11
s.